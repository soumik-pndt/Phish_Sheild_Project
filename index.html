<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PhishShield - Advanced Phishing Link Detector</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --secondary: #8b5cf6;
      --success: #22c55e;
      --warning: #eab308;
      --danger: #ef4444;
      --bg-light: #f8fafc;
      --bg-dark: #0f172a;
      --card-light: #ffffff;
      --card-dark: #1e293b;
      --text-light: #1e293b;
      --text-dark: #f1f5f9;
      --text-muted-light: #64748b;
      --text-muted-dark: #94a3b8;
      --border-light: #e2e8f0;
      --border-dark: #334155;
    }

    .dark {
      --bg: var(--bg-dark);
      --card: var(--card-dark);
      --text: var(--text-dark);
      --text-muted: var(--text-muted-dark);
      --border: var(--border-dark);
    }

    .light {
      --bg: var(--bg-light);
      --card: var(--card-light);
      --text: var(--text-light);
      --text-muted: var(--text-muted-light);
      --border: var(--border-light);
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: all 0.3s ease;
      min-height: 100vh;
      line-height: 1.6;
    }

    /* Gradient Background */
    .gradient-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: linear-gradient(135deg, 
        rgba(59, 130, 246, 0.1) 0%,
        rgba(139, 92, 246, 0.1) 50%,
        rgba(6, 182, 212, 0.1) 100%);
    }

    .dark .gradient-bg {
      background: linear-gradient(135deg, 
        rgba(59, 130, 246, 0.15) 0%,
        rgba(139, 92, 246, 0.15) 50%,
        rgba(6, 182, 212, 0.15) 100%);
    }

    /* Container */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    header {
      padding: 20px 0;
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(20px);
      background: rgba(var(--card), 0.8);
      border-bottom: 1px solid var(--border);
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
    }

    .theme-toggle {
      background: var(--card);
      border: 1px solid var(--border);
      padding: 10px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      color: var(--text);
    }

    .theme-toggle:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    /* Hero Section */
    .hero {
      text-align: center;
      padding: 80px 0 60px;
    }

    .hero h1 {
      font-size: 3rem;
      font-weight: 800;
      margin-bottom: 20px;
      background: linear-gradient(135deg, var(--primary), var(--secondary), #06b6d4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero p {
      font-size: 1.2rem;
      color: var(--text-muted);
      max-width: 600px;
      margin: 0 auto 40px;
    }

    /* Scanner Card */
    .scanner-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(20px);
      max-width: 800px;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
    }

    .scanner-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--secondary), #06b6d4);
    }

    .input-group {
      margin-bottom: 30px;
    }

    .input-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .url-input {
      width: 100%;
      padding: 18px 24px;
      font-size: 1rem;
      border: 2px solid var(--border);
      border-radius: 16px;
      background: var(--bg);
      color: var(--text);
      font-family: 'Fira Code', monospace;
      transition: all 0.3s ease;
    }

    .url-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
    }

    .url-input::placeholder {
      color: var(--text-muted);
    }

    .scan-btn {
      width: 100%;
      padding: 18px;
      font-size: 1.1rem;
      font-weight: 700;
      color: white;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border: none;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .scan-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
    }

    .scan-btn:active {
      transform: translateY(0);
    }

    .scan-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    /* Loading Animation */
    .loading {
      display: none;
      text-align: center;
      padding: 40px 0;
    }

    .loading.active {
      display: block;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 4px solid var(--border);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Results */
    .results {
      display: none;
      margin-top: 40px;
    }

    .results.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .result-header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 30px;
      padding: 30px;
      border-radius: 20px;
      background: var(--bg);
      border: 2px solid;
    }

    .result-header.safe {
      border-color: var(--success);
      background: rgba(34, 197, 94, 0.1);
    }

    .result-header.suspicious {
      border-color: var(--warning);
      background: rgba(234, 179, 8, 0.1);
    }

    .result-header.phishing {
      border-color: var(--danger);
      background: rgba(239, 68, 68, 0.1);
    }

    .result-icon {
      width: 60px;
      height: 60px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      color: white;
      flex-shrink: 0;
    }

    .safe .result-icon {
      background: linear-gradient(135deg, var(--success), #16a34a);
    }

    .suspicious .result-icon {
      background: linear-gradient(135deg, var(--warning), #ca8a04);
    }

    .phishing .result-icon {
      background: linear-gradient(135deg, var(--danger), #dc2626);
    }

    .result-info h3 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 5px;
    }

    .safe .result-info h3 {
      color: var(--success);
    }

    .suspicious .result-info h3 {
      color: var(--warning);
    }

    .phishing .result-info h3 {
      color: var(--danger);
    }

    .result-info p {
      color: var(--text-muted);
    }

    .score-display {
      text-align: right;
      flex-grow: 1;
    }

    .score-number {
      font-size: 3rem;
      font-weight: 800;
      font-family: 'Fira Code', monospace;
    }

    .safe .score-number {
      color: var(--success);
    }

    .suspicious .score-number {
      color: var(--warning);
    }

    .phishing .score-number {
      color: var(--danger);
    }

    .score-label {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Details Grid */
    .details-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .detail-card {
      background: var(--bg);
      padding: 24px;
      border-radius: 16px;
      border: 1px solid var(--border);
    }

    .detail-card h4 {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-bottom: 10px;
      font-weight: 600;
    }

    .detail-card p {
      font-size: 1.1rem;
      font-weight: 600;
      font-family: 'Fira Code', monospace;
    }

    .detail-card .status {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 0.85rem;
      font-weight: 600;
      font-family: 'Inter', sans-serif;
    }

    .status.pass {
      background: rgba(34, 197, 94, 0.2);
      color: var(--success);
    }

    .status.fail {
      background: rgba(239, 68, 68, 0.2);
      color: var(--danger);
    }

    .status.warning {
      background: rgba(234, 179, 8, 0.2);
      color: var(--warning);
    }

    /* Indicators List */
    .indicators {
      background: var(--bg);
      padding: 24px;
      border-radius: 16px;
      border: 1px solid var(--border);
      margin-bottom: 30px;
    }

    .indicators h4 {
      font-size: 1rem;
      margin-bottom: 15px;
      color: var(--text-muted);
    }

    .indicator-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .indicator-tag {
      padding: 8px 16px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 500;
    }

    /* Recommendations */
    .recommendations {
      background: var(--bg);
      padding: 24px;
      border-radius: 16px;
      border: 1px solid var(--border);
    }

    .recommendations h4 {
      font-size: 1rem;
      margin-bottom: 15px;
      color: var(--text-muted);
    }

    .recommendation-list {
      list-style: none;
    }

    .recommendation-list li {
      padding: 12px 0;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: flex-start;
      gap: 12px;
    }

    .recommendation-list li:last-child {
      border-bottom: none;
    }

    .recommendation-icon {
      width: 24px;
      height: 24px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      color: white;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .safe .recommendation-icon {
      background: var(--success);
    }

    .suspicious .recommendation-icon {
      background: var(--warning);
    }

    .phishing .recommendation-icon {
      background: var(--danger);
    }

    /* Features Section */
    .features {
      padding: 80px 0;
    }

    .features h2 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 60px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
    }

    .feature-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 30px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .feature-icon {
      width: 70px;
      height: 70px;
      margin: 0 auto 20px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
    }

    .feature-card h3 {
      font-size: 1.3rem;
      margin-bottom: 12px;
    }

    .feature-card p {
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 40px 0;
      border-top: 1px solid var(--border);
      margin-top: 60px;
    }

    footer p {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2rem;
      }

      .hero p {
        font-size: 1rem;
      }

      .scanner-card {
        padding: 30px 20px;
      }

      .result-header {
        flex-direction: column;
        text-align: center;
      }

      .score-display {
        text-align: center;
      }

      .features h2 {
        font-size: 2rem;
      }
    }

    /* Scan History */
    .history-section {
      margin-top: 60px;
    }

    .history-section h3 {
      font-size: 1.5rem;
      margin-bottom: 20px;
      text-align: center;
    }

    .history-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .history-item {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s ease;
    }

    .history-item:hover {
      border-color: var(--primary);
    }

    .history-url {
      font-family: 'Fira Code', monospace;
      font-size: 0.9rem;
      color: var(--text);
      flex-grow: 1;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      margin-right: 20px;
    }

    .history-status {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      flex-shrink: 0;
    }

    .history-status.safe {
      background: rgba(34, 197, 94, 0.2);
      color: var(--success);
    }

    .history-status.suspicious {
      background: rgba(234, 179, 8, 0.2);
      color: var(--warning);
    }

    .history-status.phishing {
      background: rgba(239, 68, 68, 0.2);
      color: var(--danger);
    }

    .history-time {
      color: var(--text-muted);
      font-size: 0.8rem;
      margin-left: 15px;
      flex-shrink: 0;
    }

    .clear-history {
      background: var(--card);
      border: 1px solid var(--border);
      padding: 10px 20px;
      border-radius: 12px;
      cursor: pointer;
      color: var(--text);
      font-size: 0.9rem;
      margin-top: 20px;
      transition: all 0.3s ease;
    }

    .clear-history:hover {
      background: var(--danger);
      color: white;
      border-color: var(--danger);
    }

    /* Animations */
    .pulse {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }
  </style>
</head>
<body class="light">
  <div class="gradient-bg"></div>

  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <div class="logo-icon">üõ°Ô∏è</div>
          <span>PhishShield</span>
        </div>
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
          üåô
        </button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <h1>Detect Phishing Links Instantly</h1>
      <p>Advanced AI-powered detection to protect you from malicious URLs. Enter any link to analyze its safety in seconds.</p>
    </section>

    <div class="scanner-card">
      <div class="input-group">
        <label for="urlInput">Enter URL to Scan</label>
        <input 
          type="url" 
          id="urlInput" 
          class="url-input" 
          placeholder="https://example.com"
          autocomplete="off"
        >
      </div>

      <button class="scan-btn" onclick="scanURL()" id="scanBtn">
        <span>üîç</span>
        <span>Analyze Link</span>
      </button>

      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p class="loading-text">Analyzing URL with AI engine...</p>
      </div>

      <div class="results" id="results">
        <div class="result-header" id="resultHeader">
          <div class="result-icon" id="resultIcon">‚úì</div>
          <div class="result-info">
            <h3 id="resultTitle">Safe</h3>
            <p id="resultDesc">No threats detected</p>
          </div>
          <div class="score-display">
            <div class="score-number" id="scoreNumber">15</div>
            <div class="score-label">Risk Score / 100</div>
          </div>
        </div>

        <div class="details-grid" id="detailsGrid">
          <!-- Dynamic content -->
        </div>

        <div class="indicators" id="indicators">
          <h4>‚ö†Ô∏è Suspicious Indicators Found</h4>
          <div class="indicator-list" id="indicatorList">
            <!-- Dynamic content -->
          </div>
        </div>

        <div class="recommendations" id="recommendations">
          <h4>üìã Security Recommendations</h4>
          <ul class="recommendation-list" id="recommendationList">
            <!-- Dynamic content -->
          </ul>
        </div>
      </div>
    </div>

    <div class="history-section" id="historySection">
      <h3>üìú Recent Scans</h3>
      <div class="history-list" id="historyList">
        <!-- Dynamic content -->
      </div>
      <button class="clear-history" onclick="clearHistory()" id="clearHistoryBtn" style="display: none;">
        üóëÔ∏è Clear History
      </button>
    </div>

    <section class="features">
      <h2>Why Choose PhishShield?</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">ü§ñ</div>
          <h3>AI-Powered Detection</h3>
          <p>Advanced machine learning algorithms analyze multiple threat indicators</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚ö°</div>
          <h3>Instant Results</h3>
          <p>Get comprehensive security analysis in seconds, not minutes</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üîí</div>
          <h3>Privacy First</h3>
          <p>Your scanned URLs are never stored or shared with third parties</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìä</div>
          <h3>Detailed Reports</h3>
          <p>Comprehensive breakdown of all security indicators and risks</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>¬© 2024 PhishShield. Educational & Defensive Security Tool.</p>
      <p style="margin-top: 10px; font-size: 0.8rem;">No malicious functionality. For security research purposes only.</p>
    </div>
  </footer>

  <script>
    // Theme Management
    function toggleTheme() {
      const body = document.body;
      const toggle = document.querySelector('.theme-toggle');
      
      if (body.classList.contains('light')) {
        body.classList.remove('light');
        body.classList.add('dark');
        toggle.textContent = '‚òÄÔ∏è';
        localStorage.setItem('theme', 'dark');
      } else {
        body.classList.remove('dark');
        body.classList.add('light');
        toggle.textContent = 'üåô';
        localStorage.setItem('theme', 'light');
      }
    }

    // Load saved theme
    function loadTheme() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      const body = document.body;
      const toggle = document.querySelector('.theme-toggle');
      
      if (savedTheme === 'dark') {
        body.classList.add('dark');
        body.classList.remove('light');
        toggle.textContent = '‚òÄÔ∏è';
      } else {
        body.classList.add('light');
        body.classList.remove('dark');
        toggle.textContent = 'üåô';
      }
    }

    // Detection Engine
    const DetectionEngine = {
      suspiciousKeywords: [
        'login', 'secure', 'account', 'verify', 'bank', 'crypto', 'update', 
        'password', 'suspend', 'urgent', 'immediately', 'claim', 'winner', 
        'lottery', 'inheritance', 'prince', 'nigeria', 'wire', 'transfer',
        'paypal', 'amazon', 'microsoft', 'apple', 'google', 'facebook'
      ],

      suspiciousTLDs: [
        '.xyz', '.top', '.club', '.work', '.date', '.bid', '.stream',
        '.tk', '.ml', '.ga', '.cf', '.gq', '.pw', '.cc'
      ],

      analyzeURL: function(url) {
        let score = 0;
        const details = {
          keywordsFound: [],
          entropyScore: 0,
          sslStatus: 'Unknown',
          domainAge: 'Unknown',
          ipAddress: false,
          subdomainCount: 0,
          urlLength: 0,
          hasSuspiciousTLD: false
        };

        // Keyword Analysis
        this.suspiciousKeywords.forEach(word => {
          if (url.toLowerCase().includes(word)) {
            score += 8;
            details.keywordsFound.push(word);
          }
        });

        // Clean URL for analysis
        const cleanUrl = url.replace(/https?:\/\//, '').split('/')[0];
        
        // Entropy/Randomness Check
        const uniqueChars = new Set(cleanUrl).size;
        const entropy = uniqueChars / cleanUrl.length;
        details.entropyScore = parseFloat(entropy.toFixed(2));
        if (entropy > 0.75) score += 25;

        // IP Address Check
        if (/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(cleanUrl)) {
          score += 35;
          details.ipAddress = true;
        }

        // URL Length Check
        details.urlLength = url.length;
        if (url.length > 60) score += 15;

        // Suspicious TLD Check
        this.suspiciousTLDs.forEach(tld => {
          if (url.toLowerCase().includes(tld)) {
            score += 20;
            details.hasSuspiciousTLD = true;
          }
        });

        // HTTPS Check
        if (url.startsWith('https://')) {
          details.sslStatus = 'Valid';
        } else {
          score += 10;
          details.sslStatus = 'Invalid/Missing';
        }

        // Subdomain Check
        const subdomains = cleanUrl.split('.').length - 1;
        details.subdomainCount = subdomains;
        if (subdomains > 2) score += 15;

        // Homograph Attack Detection (simplified)
        const hasMixedChars = /[^\x00-\x7F]/.test(url);
        if (hasMixedChars) score += 30;

        // Normalize Score
        score = Math.min(score, 100);

        // Determine Verdict
        let verdict = 'SAFE';
        if (score > 35) verdict = 'SUSPICIOUS';
        if (score > 70) verdict = 'PHISHING';

        return { score, verdict, details };
      }
    };

    // Scan History Management
    let scanHistory = JSON.parse(localStorage.getItem('scanHistory') || '[]');

    function saveToHistory(url, result) {
      scanHistory.unshift({
        url,
        verdict: result.verdict,
        score: result.score,
        timestamp: new Date().toISOString()
      });

      // Keep only last 10 scans
      if (scanHistory.length > 10) {
        scanHistory = scanHistory.slice(0, 10);
      }

      localStorage.setItem('scanHistory', JSON.stringify(scanHistory));
      renderHistory();
    }

    function renderHistory() {
      const historyList = document.getElementById('historyList');
      const clearBtn = document.getElementById('clearHistoryBtn');

      if (scanHistory.length === 0) {
        historyList.innerHTML = '<p style="text-align: center; color: var(--text-muted); padding: 20px;">No scan history yet</p>';
        clearBtn.style.display = 'none';
        return;
      }

      clearBtn.style.display = 'block';
      historyList.innerHTML = scanHistory.map(item => {
        const time = new Date(item.timestamp).toLocaleTimeString();
        return `
          <div class="history-item">
            <span class="history-url">${item.url}</span>
            <span class="history-status ${item.verdict.toLowerCase()}">${item.verdict}</span>
            <span class="history-time">${time}</span>
          </div>
        `;
      }).join('');
    }

    function clearHistory() {
      scanHistory = [];
      localStorage.removeItem('scanHistory');
      renderHistory();
    }

    // Main Scan Function
    async function scanURL() {
      const urlInput = document.getElementById('urlInput');
      const url = urlInput.value.trim();
      const scanBtn = document.getElementById('scanBtn');
      const loading = document.getElementById('loading');
      const results = document.getElementById('results');

      // Validation
      if (!url) {
        alert('Please enter a URL to scan');
        return;
      }

      // Basic URL validation
      try {
        new URL(url);
      } catch (e) {
        alert('Please enter a valid URL (e.g., https://example.com)');
        return;
      }

      // Disable button and show loading
      scanBtn.disabled = true;
      loading.classList.add('active');
      results.classList.remove('active');

      // Simulate API call delay
      await new Promise(resolve => setTimeout(resolve, 2000));

      // Analyze URL
      const result = DetectionEngine.analyzeURL(url);

      // Save to history
      saveToHistory(url, result);

      // Display results
      displayResults(result, url);

      // Hide loading and enable button
      loading.classList.remove('active');
      scanBtn.disabled = false;
    }

    function displayResults(result, url) {
      const results = document.getElementById('results');
      const resultHeader = document.getElementById('resultHeader');
      const resultIcon = document.getElementById('resultIcon');
      const resultTitle = document.getElementById('resultTitle');
      const resultDesc = document.getElementById('resultDesc');
      const scoreNumber = document.getElementById('scoreNumber');
      const detailsGrid = document.getElementById('detailsGrid');
      const indicators = document.getElementById('indicators');
      const indicatorList = document.getElementById('indicatorList');
      const recommendations = document.getElementById('recommendations');
      const recommendationList = document.getElementById('recommendationList');

      // Set verdict class
      resultHeader.className = `result-header ${result.verdict.toLowerCase()}`;

      // Set icon and title
      const icons = {
        'SAFE': '‚úì',
        'SUSPICIOUS': '‚ö†',
        'PHISHING': '‚úó'
      };

      const titles = {
        'SAFE': 'Safe Link',
        'SUSPICIOUS': 'Suspicious Link',
        'PHISHING': 'Phishing Detected'
      };

      const descriptions = {
        'SAFE': 'No significant threats detected',
        'SUSPICIOUS': 'Some risk indicators found - proceed with caution',
        'PHISHING': 'High risk - do not click this link'
      };

      resultIcon.textContent = icons[result.verdict];
      resultTitle.textContent = titles[result.verdict];
      resultDesc.textContent = descriptions[result.verdict];
      scoreNumber.textContent = result.score;

      // Display details
      detailsGrid.innerHTML = `
        <div class="detail-card">
          <h4>SSL/TLS Status</h4>
          <p><span class="status ${result.details.sslStatus === 'Valid' ? 'pass' : 'fail'}">${result.details.sslStatus}</span></p>
        </div>
        <div class="detail-card">
          <h4>URL Entropy</h4>
          <p>${result.details.entropyScore}</p>
        </div>
        <div class="detail-card">
          <h4>Subdomain Count</h4>
          <p>${result.details.subdomainCount}</p>
        </div>
        <div class="detail-card">
          <h4>URL Length</h4>
          <p>${result.details.urlLength} characters</p>
        </div>
        <div class="detail-card">
          <h4>IP Address</h4>
          <p><span class="status ${result.details.ipAddress ? 'fail' : 'pass'}">${result.details.ipAddress ? 'Yes' : 'No'}</span></p>
        </div>
        <div class="detail-card">
          <h4>Suspicious TLD</h4>
          <p><span class="status ${result.details.hasSuspiciousTLD ? 'fail' : 'pass'}">${result.details.hasSuspiciousTLD ? 'Yes' : 'No'}</span></p>
        </div>
      `;

      // Display indicators
      if (result.details.keywordsFound.length > 0) {
        indicators.style.display = 'block';
        indicatorList.innerHTML = result.details.keywordsFound
          .map(keyword => `<span class="indicator-tag">üî¥ ${keyword}</span>`)
          .join('');
      } else {
        indicators.style.display = 'none';
      }

      // Display recommendations
      const safeRecommendations = [
        '‚úÖ Link appears safe to visit',
        '‚úÖ No suspicious patterns detected',
        '‚úÖ Continue practicing good security hygiene'
      ];

      const suspiciousRecommendations = [
        '‚ö†Ô∏è Verify the sender before clicking',
        '‚ö†Ô∏è Check the domain name carefully',
        '‚ö†Ô∏è Look for HTTPS encryption',
        '‚ö†Ô∏è Contact the organization through official channels'
      ];

      const phishingRecommendations = [
        'üö´ Do NOT click this link',
        'üö´ Do NOT enter any personal information',
        'üö´ Report this to your IT security team',
        'üö´ Block the sender/domain',
        'üö´ Delete the message immediately'
      ];

      const recommendationsList = {
        'SAFE': safeRecommendations,
        'SUSPICIOUS': suspiciousRecommendations,
        'PHISHING': phishingRecommendations
      };

      recommendationList.innerHTML = recommendationsList[result.verdict]
        .map(rec => `
          <li>
            <div class="recommendation-icon">${rec.charAt(0)}</div>
            <span>${rec.substring(2)}</span>
          </li>
        `)
        .join('');

      // Show results
      results.classList.add('active');

      // Scroll to results
      results.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    // Enter key to scan
    document.getElementById('urlInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        scanURL();
      }
    });

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      loadTheme();
      renderHistory();
    });
  </script>
</body>
</html>

